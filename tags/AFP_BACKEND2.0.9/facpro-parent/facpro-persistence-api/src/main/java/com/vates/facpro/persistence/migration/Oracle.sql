//Se limpian tablas. ejecutar consulta y luego ejecutar resultado para eliminar tablas.
select 'drop table '||TABLE_NAME||' cascade constraints
/'  from user_tables
y
select 'drop sequence '||SEQUENCE_NAME||' 
/'  from user_sequences

Para crear dblink
create database link FACTURACION
  connect to "contable" identified by "contable"
  using
  '(DESCRIPTION=
    (ADDRESS=
     (PROTOCOL=TCP)
     (HOST=192.168.50.13)
     (PORT=1521))
    (CONNECT_DATA=
     (SID=orcl)))'
  /

/
//INICIO PERMISOS
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (1, SYSDATE, SYSDATE, 0, null,'USERS','Usuarios', 4)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (1, SYSDATE, SYSDATE, 0, null,'ADMINISTRAR',1)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (1, SYSDATE, SYSDATE, 0,'Administración de Usuarios',1,'user-admin',1)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (2, SYSDATE, SYSDATE, 0, null,'user::userPaginatedList','user::userPaginatedList',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (2, SYSDATE, SYSDATE, 0, null,'EJECUTAR',2)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (2, SYSDATE, SYSDATE, 0,'GET',2,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (3, SYSDATE, SYSDATE, 0, null,'user::getUser','user::getUser',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (3, SYSDATE, SYSDATE, 0, null,'EJECUTAR',3)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (3, SYSDATE, SYSDATE, 0,'GET',3,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (4, SYSDATE, SYSDATE, 0, null,'user::saveUser','user::saveUser',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (4, SYSDATE, SYSDATE, 0, null,'EJECUTAR',4)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (4, SYSDATE, SYSDATE, 0,'POST',4,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (5, SYSDATE, SYSDATE, 0, null,'user::deleteUser','user::deleteUser',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (5, SYSDATE, SYSDATE, 0, null,'EJECUTAR',5)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (5, SYSDATE, SYSDATE, 0,'POST',5,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (6, SYSDATE, SYSDATE, 0, null,'user::forceDeleteUser','user::forceDeleteUser',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (6, SYSDATE, SYSDATE, 0, null,'EJECUTAR',6)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (6, SYSDATE, SYSDATE, 0,'POST',6,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (7, SYSDATE, SYSDATE, 0, null,'user::updateUser','user::updateUser',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (7, SYSDATE, SYSDATE, 0, null,'EJECUTAR',7)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (7, SYSDATE, SYSDATE, 0,'POST',7,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (8, SYSDATE, SYSDATE, 0, null,'user::forceUpdateUser','user::forceUpdateUser',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (8, SYSDATE, SYSDATE, 0, null,'EJECUTAR',8)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (8, SYSDATE, SYSDATE, 0,'POST',8,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (9, SYSDATE, SYSDATE, 0, null,'FACTURAS','Facturas', 1)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (9, SYSDATE, SYSDATE, 0, null,'ADMINISTRAR',9)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (9, SYSDATE, SYSDATE, 0,'Gestion de Facturas',9,'factura-admin',1)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (10, SYSDATE, SYSDATE, 0, null,'factura::facturaPaginatedList','factura::facturaPaginatedList',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (10, SYSDATE, SYSDATE, 0, null,'EJECUTAR',10)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (10, SYSDATE, SYSDATE, 0,'GET',10,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (11, SYSDATE, SYSDATE, 0, null,'factura::saveFactura','factura::saveFactura',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (11, SYSDATE, SYSDATE, 0, null,'EJECUTAR',11)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (11, SYSDATE, SYSDATE, 0,'POST',11,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (12, SYSDATE, SYSDATE, 0, null,'factura::getFactura','factura::getFactura',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (12, SYSDATE, SYSDATE, 0, null,'EJECUTAR',12)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (12, SYSDATE, SYSDATE, 0,'GET',12,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (13, SYSDATE, SYSDATE, 0, null,'factura::updateFactura','factura::updateFactura',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (13, SYSDATE, SYSDATE, 0, null,'EJECUTAR',13)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (13, SYSDATE, SYSDATE, 0,'POST',13,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (14, SYSDATE, SYSDATE, 0, null,'role::getRolesByUserId','role::getRolesByUserId',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (14, SYSDATE, SYSDATE, 0, null,'EJECUTAR',14)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (14, SYSDATE, SYSDATE, 0,'GET',14,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (15, SYSDATE, SYSDATE, 0, null,'role::saveRoles','role::saveRoles',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (15, SYSDATE, SYSDATE, 0, null,'EJECUTAR',15)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (15, SYSDATE, SYSDATE, 0,'POST',15,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (16, SYSDATE, SYSDATE, 0, null,'archivoFactura::uploadFile','archivoFactura::uploadFile',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (16, SYSDATE, SYSDATE, 0, null,'EJECUTAR',16)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (16, SYSDATE, SYSDATE, 0,'POST',16,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (17, SYSDATE, SYSDATE, 0, null,'archivoFactura::getAllArchivoFactura','archivoFactura::getAllArchivoFactura',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (17, SYSDATE, SYSDATE, 0, null,'EJECUTAR',17)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (17, SYSDATE, SYSDATE, 0,'GET',17,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (18, SYSDATE, SYSDATE, 0, null,'archivo::downloadArchivo','archivo::downloadArchivo',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (18, SYSDATE, SYSDATE, 0, null,'EJECUTAR',18)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (18, SYSDATE, SYSDATE, 0,'GET',18,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (19, SYSDATE, SYSDATE, 0, null,'archivo::deleteArchivo','archivo::deleteArchivo',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (19, SYSDATE, SYSDATE, 0, null,'EJECUTAR',19)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (19, SYSDATE, SYSDATE, 0,'POST',19,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (20, SYSDATE, SYSDATE, 0, null,'AUTORIZACION','Autorización', 2)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (20, SYSDATE, SYSDATE, 0, null,'ADMINISTRAR',20)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (20, SYSDATE, SYSDATE, 0,'Autorizaciones Pendientes',20,'autorizacion-admin',1)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (21, SYSDATE, SYSDATE, 0, null,'factura::facturaViewPaginatedList','factura::facturaViewPaginatedList',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (21, SYSDATE, SYSDATE, 0, null,'EJECUTAR',21)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (21, SYSDATE, SYSDATE, 0,'GET',21,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (22, SYSDATE, SYSDATE, 0, null,'historial::getHistorialByFinalUser','historial::getHistorialByFinalUser',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (22, SYSDATE, SYSDATE, 0, null,'EJECUTAR',22)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (22, SYSDATE, SYSDATE, 0,'GET',22,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (23, SYSDATE, SYSDATE, 0, null,'user::getAuthorized','user::getAuthorized',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (23, SYSDATE, SYSDATE, 0, null,'EJECUTAR',23)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (23, SYSDATE, SYSDATE, 0,'GET',23,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (24, SYSDATE, SYSDATE, 0, null,'workFlow::getNivelByFactura','workFlow::getNivelByFactura',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (24, SYSDATE, SYSDATE, 0, null,'EJECUTAR',24)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (24, SYSDATE, SYSDATE, 0,'GET',24,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (25, SYSDATE, SYSDATE, 0, null,'workFlow::saveNivel','workFlow::saveNivel',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (25, SYSDATE, SYSDATE, 0, null,'EJECUTAR',25)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (25, SYSDATE, SYSDATE, 0,'POST',25,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (26, SYSDATE, SYSDATE, 0, null,'workFlow::saveAndPublishNivel','workFlow::saveAndPublishNivel',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (26, SYSDATE, SYSDATE, 0, null,'EJECUTAR',26)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (26, SYSDATE, SYSDATE, 0,'POST',26,null,0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (27, SYSDATE, SYSDATE, 0, null,'EJECUTAR',9)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (27, SYSDATE, SYSDATE, 0,'Consultar Facturas',27,'factura-consult-admin',2)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (28, SYSDATE, SYSDATE, 0, null,'EJECUTAR',20)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (28, SYSDATE, SYSDATE, 0,'Autorizaciones Pendientes Niveles Inferiores',28,'autorizacion-nivel-inferior',2)
/

INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (29, SYSDATE, SYSDATE, 0, null,'factura::nivelInferiorList','factura::nivelInferiorList',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (29, SYSDATE, SYSDATE, 0, null,'EJECUTAR',29)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (29, SYSDATE, SYSDATE, 0,'GET',29,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (30, SYSDATE, SYSDATE, 0, null,'historial::saveHistorial','historial::saveHistorial',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (30, SYSDATE, SYSDATE, 0, null,'EJECUTAR',30)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (30, SYSDATE, SYSDATE, 0,'POST',30,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (31, SYSDATE, SYSDATE, 0, null,'historial::rechazarFacturaHistorial','historial::rechazarFacturaHistorial',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (31, SYSDATE, SYSDATE, 0, null,'EJECUTAR',31)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (31, SYSDATE, SYSDATE, 0,'POST',31,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (32, SYSDATE, SYSDATE, 0, null,'historial::saveAnterioresHistorial','historial::saveAnterioresHistorial',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (32, SYSDATE, SYSDATE, 0, null,'EJECUTAR',32)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (32, SYSDATE, SYSDATE, 0,'POST',32,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (33, SYSDATE, SYSDATE, 0, null,'historial::rechazarAnterioresHistorial','historial::rechazarAnterioresHistorial',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (33, SYSDATE, SYSDATE, 0, null,'EJECUTAR',33)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (33, SYSDATE, SYSDATE, 0,'POST',33,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (34, SYSDATE, SYSDATE, 0, null,'login::login','login::login',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (34, SYSDATE, SYSDATE, 0, null,'EJECUTAR',34)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (34, SYSDATE, SYSDATE, 0,'POST',34,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (35, SYSDATE, SYSDATE, 0, null,'login::getMenu','login::getMenu',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (35, SYSDATE, SYSDATE, 0, null,'EJECUTAR',35)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (35, SYSDATE, SYSDATE, 0,'POST',35,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (36, SYSDATE, SYSDATE, 0, null,'facturaConsult::facturaPaginatedList','facturaConsult::facturaPaginatedList',0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (36, SYSDATE, SYSDATE, 0, null,'EJECUTAR',36)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (36, SYSDATE, SYSDATE, 0,'GET',36,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (37, SYSDATE, SYSDATE, 0, null,'autorizacionNivelInferior::getAutorizacion','autorizacionNivelInferior::getAutorizacion', 0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (37, SYSDATE, SYSDATE, 0, null,'EJECUTAR',37)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (37, SYSDATE, SYSDATE, 0,'GET',37,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (38, SYSDATE, SYSDATE, 0, null,'archivoFactura::verArchivo','archivoFactura::verArchivo', 0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (38, SYSDATE, SYSDATE, 0, null,'EJECUTAR',38)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (38, SYSDATE, SYSDATE, 0,'GET',38,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (39, SYSDATE, SYSDATE, 0, null,'workFlow::reiniciarWF','workFlow::reiniciarWF', 0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (39, SYSDATE, SYSDATE, 0, null,'EJECUTAR',39)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (39, SYSDATE, SYSDATE, 0,'POST',39,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (40, SYSDATE, SYSDATE, 0, null,'historial::informarFacturaHistorial','historial::informarFacturaHistorial', 0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (40, SYSDATE, SYSDATE, 0, null,'EJECUTAR',40)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (40, SYSDATE, SYSDATE, 0,'GET',40,null,0)
/

//FIN PERMISOS

//INCIO ROLES
INSERT INTO ROLES ( ID,CREATED_AT,UPDATED_AT,LOCK_VERSION,DESCRIPTION,NAME)
VALUES (1, SYSDATE, SYSDATE,0,'','Root')
/
INSERT INTO ROLES ( ID,CREATED_AT,UPDATED_AT,LOCK_VERSION,DESCRIPTION,NAME)
VALUES (2, SYSDATE, SYSDATE,0,'Un usuario con permisos de administrador de sistema podrá acceder a todas las pantallas','Administrador de Sistema')
/
INSERT INTO ROLES ( ID,CREATED_AT,UPDATED_AT,LOCK_VERSION,DESCRIPTION,NAME)
VALUES (3, SYSDATE, SYSDATE,0,'Un usuario con permisos de administrador de facturas podrá acceder a todas las pantallas de AFP, cargar WorkFlows (WF) y modificarlos.','Administrador de Facturas')
/
INSERT INTO ROLES ( ID,CREATED_AT,UPDATED_AT,LOCK_VERSION,DESCRIPTION,NAME)
VALUES (4, SYSDATE, SYSDATE,0,'Un usuario con permisos de autorizar facturas pueden consultar la pantalla de facturas pendientes y las facturas de niveles inferiores.','Autorizar Facturas')
/
INSERT INTO ROLES ( ID,CREATED_AT,UPDATED_AT,LOCK_VERSION,DESCRIPTION,NAME)
VALUES (5, SYSDATE, SYSDATE,0,'Un usuario con permisos de responsable de pagos recibira notificaciones vía mail cuando una factura es observada/rechazada','Responsable de Pagos')
/
INSERT INTO ROLES ( ID,CREATED_AT,UPDATED_AT,LOCK_VERSION,DESCRIPTION,NAME)
VALUES (6, SYSDATE, SYSDATE,0,'Un usuario con permisos de consultar facturas puede consultar todas las facturas.','Consultar Facturas')
/

//FIN ROLES

//INICIO USERS
INSERT INTO USERS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, ACTIVE, JOB, LAST_NAME, MAIL, NAME, PASSWORD, TIPO)
VALUES(1, SYSDATE, SYSDATE, 0, 1, '-', '-', 'root@vates.com', '-', 'cbaVates2$', 0)
/
--Usuario para desarrollo
--INSERT INTO USERS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, ACTIVE, JOB, LAST_NAME, MAIL, NAME, PASSWORD, TIPO)
--VALUES(2, SYSDATE, SYSDATE, 0, 1, '-', '-', 'admin@vates.com', '-', 'cbaVates2$', 0)
--/
select USER_SEQ.nextval from dual
/
//FIN USERS

//INICIO ROLES PERMISSIONS
INSERT INTO ROLES_PERMISSIONS (PERMISSION_ID,ROLE_ID )
SELECT P.ID,1 FROM PERMISSIONS P
WHERE P.ID IN (1,2,3,4,5,6,7,8,14,15) AND P.ID NOT IN (SELECT PERMISSION_ID FROM ROLES_PERMISSIONS WHERE ROLE_ID=1)
/
INSERT INTO ROLES_PERMISSIONS (PERMISSION_ID,ROLE_ID )
SELECT P.ID,2 FROM PERMISSIONS P
WHERE P.ID NOT IN (SELECT PERMISSION_ID FROM ROLES_PERMISSIONS WHERE ROLE_ID=2)
/
INSERT INTO ROLES_PERMISSIONS (PERMISSION_ID,ROLE_ID )
SELECT P.ID,3 FROM PERMISSIONS P
WHERE P.ID NOT IN (SELECT PERMISSION_ID FROM ROLES_PERMISSIONS WHERE ROLE_ID=3) AND P.ID <= 40
AND P.ID NOT IN (1,2,3,4,5,6,7,8,14,15)

/
INSERT INTO ROLES_PERMISSIONS (PERMISSION_ID,ROLE_ID )
SELECT P.ID,4 FROM PERMISSIONS P
WHERE P.ID IN (17,18,20,21,22,28,29,30,31,32,33,37,38,40) AND P.ID NOT IN (SELECT PERMISSION_ID FROM ROLES_PERMISSIONS WHERE ROLE_ID=4)
/
INSERT INTO ROLES_PERMISSIONS (PERMISSION_ID,ROLE_ID )
SELECT P.ID,6 FROM PERMISSIONS P
WHERE P.ID IN (10,12,17,18,22,27,36,38) AND P.ID NOT IN (SELECT PERMISSION_ID FROM ROLES_PERMISSIONS WHERE ROLE_ID=6)
/
//FIN ROLES PERMISSIONS

//INICIO USERS ROLES
INSERT INTO USERS_ROLES (ROLE_ID,USER_ID)
VALUES (1,1)
/
--Rol del usuario para desarrollo
--INSERT INTO USERS_ROLES (ROLE_ID,USER_ID)
--VALUES (2,2)
--/
//FIN USERS ROLES

//INICIO TIPO DE FACTURA
INSERT INTO TIPO_FACTURA (ID, NOMBRE)
VALUES (1,'Anticipadas')
/
INSERT INTO TIPO_FACTURA (ID, NOMBRE)
VALUES (2,'Inmediatas')
/
INSERT INTO TIPO_FACTURA (ID, NOMBRE)
VALUES (3,'A vencer')
/       
//FIN TIPO DE FACTURA

/*Inicio Update version 1.0.3*/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (41, SYSDATE, SYSDATE, 0, null,'OC','Gestión de Ordenes de Compra', 3)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (41, SYSDATE, SYSDATE, 0, null,'ADMINISTRAR',41)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (41, SYSDATE, SYSDATE, 0,'Administrar Ordenes de Compra',41,'oc-admin',1)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (42, SYSDATE, SYSDATE, 0, null,'ADMINISTRAR',41)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (42, SYSDATE, SYSDATE, 0,'Reporte de Ordenes de Compra',42,'oc-consult-admin',2)
/
INSERT INTO MODULE(ID,CREATED_AT,UPDATED_AT,LOCK_VERSION,NAME,LARGE_NAME,ORD)
VALUES (1, SYSDATE, SYSDATE,0,'AFP','Autorización Facturas Proveedores',1)
/
INSERT INTO MODULE(ID,CREATED_AT,UPDATED_AT,LOCK_VERSION,NAME,LARGE_NAME,ORD)
VALUES (2, SYSDATE, SYSDATE,0,'OC','Ordenes de Compras',0)
/
INSERT INTO MODULE(ID,CREATED_AT,UPDATED_AT,LOCK_VERSION,NAME,LARGE_NAME,ORD)
VALUES (3, SYSDATE, SYSDATE,0,'ADM','Administración',999)
/
INSERT INTO MODULE_RESOURCE (MODULE_ID,RESOURCE_ID)
VALUES (1, 9 )
/
INSERT INTO MODULE_RESOURCE (MODULE_ID,RESOURCE_ID)
VALUES (1, 20 )
/
INSERT INTO MODULE_RESOURCE (MODULE_ID,RESOURCE_ID)
VALUES (2, 41 )
/
INSERT INTO MODULE_RESOURCE (MODULE_ID,RESOURCE_ID)
VALUES (3, 1 )
/
/*DELETE FROM ROLES_PERMISSIONS WHERE ROLE_ID=3 AND PERMISSION_ID in (1,2,3,4,5,6,7,8,14,15)
/
INSERT INTO ROLES_PERMISSIONS (PERMISSION_ID,ROLE_ID )
VALUES (40,3)*/
/*Fin Update version 1.0.3*/

/*Inicio Update version 1.1.0*/
create database link KANAV
  connect to k300prod3 identified by k300prod3
  using
  '(DESCRIPTION=
    (ADDRESS=
     (PROTOCOL=TCP)
     (HOST=vates5)
     (PORT=1521))
    (CONNECT_DATA=
     (SID=DESA10G)))'
  /

/*Fin Update version 1.1.0*/
  
/* Verision 2.0.0*/
create database link PREFA
  connect to "prefa" identified by "prefa"
  using
  '(DESCRIPTION=
    (ADDRESS=
     (PROTOCOL=TCP)
     (HOST=192.168.50.13)
     (PORT=1521))
    (CONNECT_DATA=
     (SID=orcl)))'
  /
  
INSERT INTO TIPO_ORDEN (ID, NOMBRE)
VALUES (1, 'Externa')
/
INSERT INTO TIPO_ORDEN (ID, NOMBRE)
VALUES (2, 'Interna')
/

INSERT INTO UNIDADES (ID, NOMBRE)
VALUES (1, 'Horas')
/
INSERT INTO UNIDADES (ID, NOMBRE)
VALUES (2, 'Dias')
/
INSERT INTO UNIDADES (ID, NOMBRE)
VALUES (3, 'Meses')
/

INSERT INTO ROLES ( ID,CREATED_AT,UPDATED_AT,LOCK_VERSION,DESCRIPTION,NAME)
VALUES (7, SYSDATE, SYSDATE,0,'Un usuario con permisos de administrador de ordenes de compra podrá acceder a todas las pantallas de OC, cargar Ordenes (OC) y modificarlas.','Administrador de OC')
/

INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (43, SYSDATE, SYSDATE, 0, null,'archivoOrden::uploadFile','archivoOrden::uploadFile', 0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (43, SYSDATE, SYSDATE, 0, null,'EJECUTAR',43)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (43, SYSDATE, SYSDATE, 0,'POST',43,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (44, SYSDATE, SYSDATE, 0, null,'archivoOrden::deleteFile','archivoOrden::deleteFile', 0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (44, SYSDATE, SYSDATE, 0, null,'EJECUTAR',44)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (44, SYSDATE, SYSDATE, 0,'POST',44,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (45, SYSDATE, SYSDATE, 0, null,'orden::saveOrden','orden::saveOrden', 0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (45, SYSDATE, SYSDATE, 0, null,'EJECUTAR',45)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (45, SYSDATE, SYSDATE, 0,'POST',45,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (46, SYSDATE, SYSDATE, 0, null,'orden::updateOrden','orden::updateOrden', 0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (46, SYSDATE, SYSDATE, 0, null,'EJECUTAR',46)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (46, SYSDATE, SYSDATE, 0,'POST',46,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (47, SYSDATE, SYSDATE, 0, null,'orden::getDatoInicial','orden::getDatoInicial', 0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (47, SYSDATE, SYSDATE, 0, null,'EJECUTAR',47)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (47, SYSDATE, SYSDATE, 0,'GET',47,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (48, SYSDATE, SYSDATE, 0, null,'orden::getOrdenById','orden::getOrdenById', 0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (48, SYSDATE, SYSDATE, 0, null,'EJECUTAR',48)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (48, SYSDATE, SYSDATE, 0,'GET',48,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (49, SYSDATE, SYSDATE, 0, null,'orden::getFiltroInicial','orden::getFiltroInicial', 0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (49, SYSDATE, SYSDATE, 0, null,'EJECUTAR',49)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (49, SYSDATE, SYSDATE, 0,'GET',49,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (50, SYSDATE, SYSDATE, 0, null,'orden::getFiltroProyecto','orden::getFiltroProyecto', 0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (50, SYSDATE, SYSDATE, 0, null,'EJECUTAR',50)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (50, SYSDATE, SYSDATE, 0,'GET',50,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (51, SYSDATE, SYSDATE, 0, null,'orden::getFiltroPropuesta','orden::getFiltroPropuesta', 0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (51, SYSDATE, SYSDATE, 0, null,'EJECUTAR',51)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (51, SYSDATE, SYSDATE, 0,'GET',51,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (52, SYSDATE, SYSDATE, 0, null,'orden::forceUpdateOrden','orden::forceUpdateOrden', 0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (52, SYSDATE, SYSDATE, 0, null,'EJECUTAR',52)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (52, SYSDATE, SYSDATE, 0,'POST',52,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (53, SYSDATE, SYSDATE, 0, null,'orden::ocPaginatedList','orden::ocPaginatedList', 0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (53, SYSDATE, SYSDATE, 0, null,'EJECUTAR',53)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (53, SYSDATE, SYSDATE, 0,'GET',53,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (54, SYSDATE, SYSDATE, 0, null,'orden::deleteOrden','orden::deleteOrden', 0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (54, SYSDATE, SYSDATE, 0, null,'EJECUTAR',54)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (54, SYSDATE, SYSDATE, 0,'POST',54,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (55, SYSDATE, SYSDATE, 0, null,'orden::changeStateOrden','orden::changeStateOrden', 0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (55, SYSDATE, SYSDATE, 0, null,'EJECUTAR',55)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (55, SYSDATE, SYSDATE, 0,'POST',55,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (56, SYSDATE, SYSDATE, 0, null,'orden::closeOrden','orden::closeOrden', 0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (56, SYSDATE, SYSDATE, 0, null,'EJECUTAR',56)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (56, SYSDATE, SYSDATE, 0,'POST',56,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (57, SYSDATE, SYSDATE, 0, null,'orden::getFiltroManager','orden::getFiltroManager', 0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (57, SYSDATE, SYSDATE, 0, null,'EJECUTAR',57)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (57, SYSDATE, SYSDATE, 0,'GET',57,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (58, SYSDATE, SYSDATE, 0, null,'orden::ocPaginatedConsulList','orden::ocPaginatedConsulList', 0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (58, SYSDATE, SYSDATE, 0, null,'EJECUTAR',58)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (58, SYSDATE, SYSDATE, 0,'GET',58,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (59, SYSDATE, SYSDATE, 0, null,'orden::getArchivoByOrdenId','orden::getArchivoByOrdenId', 0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (59, SYSDATE, SYSDATE, 0, null,'EJECUTAR',59)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (59, SYSDATE, SYSDATE, 0,'GET',59,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (60, SYSDATE, SYSDATE, 0, null,'archivoOrden::verArchivo','archivoOrden::verArchivo', 0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (60, SYSDATE, SYSDATE, 0, null,'EJECUTAR',60)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (60, SYSDATE, SYSDATE, 0,'GET',60,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (61, SYSDATE, SYSDATE, 0, null,'orden::getFacturaClienteByOrdenId','orden::getFacturaClienteByOrdenId', 0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (61, SYSDATE, SYSDATE, 0, null,'EJECUTAR',61)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (61, SYSDATE, SYSDATE, 0,'GET',61,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (62, SYSDATE, SYSDATE, 0, null,'orden::getColaboradoresOCs','orden::getColaboradoresOCs', 0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (62, SYSDATE, SYSDATE, 0, null,'EJECUTAR',62)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (62, SYSDATE, SYSDATE, 0,'GET',62,null,0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (63, SYSDATE, SYSDATE, 0, null,'EJECUTAR',9)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (63, SYSDATE, SYSDATE, 0,'ALL',63,null,0)
/
INSERT INTO ROLES_PERMISSIONS (PERMISSION_ID,ROLE_ID )
SELECT P.ID,2 FROM PERMISSIONS P
WHERE P.ID NOT IN (SELECT PERMISSION_ID FROM ROLES_PERMISSIONS WHERE ROLE_ID=2)
/
INSERT INTO ROLES_PERMISSIONS (PERMISSION_ID,ROLE_ID )
SELECT P.ID,4 FROM PERMISSIONS P
WHERE P.ID IN (12,27,36) AND P.ID NOT IN (SELECT PERMISSION_ID FROM ROLES_PERMISSIONS WHERE ROLE_ID=4)
/
INSERT INTO ROLES_PERMISSIONS (PERMISSION_ID,ROLE_ID )
SELECT P.ID,6 FROM PERMISSIONS P
WHERE P.ID = 63 AND P.ID NOT IN (SELECT PERMISSION_ID FROM ROLES_PERMISSIONS WHERE ROLE_ID=6)
/
INSERT INTO ROLES_PERMISSIONS (PERMISSION_ID,ROLE_ID )
SELECT P.ID,7 FROM PERMISSIONS P
WHERE P.ID IN (41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62) AND P.ID NOT IN (SELECT PERMISSION_ID FROM ROLES_PERMISSIONS WHERE ROLE_ID=7)
/
CREATE OR REPLACE VIEW OC_FACTURA_OC (OC_ID, FACTURA_NRO) AS
SELECT ORD.ID,  rtrim (xmlagg (xmlelement(e ,OCF.NUMERO||', ')).extract ('//text()'), ', ')
from ORDENES ORD INNER JOIN OC_FACTURA@PREFA OCF
ON ORD.CLIENTE_ID=OCF.CLIENTE_ID
GROUP BY ORD.ID
/
CREATE OR REPLACE VIEW OC_PROYECTO_OC (OC_ID, PREYECTO) AS
select OXP.ID_OC,replace( rtrim (
xmlagg (xmlelement(e ,NOMBRE||', ')).extract ('//text()'), ', '),'&amp;','&')
from OC_X_PROYECTO OXP INNER JOIN OC_PROYECTO@PREFA P
ON OXP.ID_PROYECTO = P.ID
GROUP BY OXP.ID_OC
/
INSERT INTO CUENTAS_EXCLUIDAS (ID, JERARQUIA, NOMBRE)
values (1,'1.1.4.001.02','RETENCION IMPUESTO INGRESOS BRUTOS')
/
INSERT INTO CUENTAS_EXCLUIDAS (ID, JERARQUIA, NOMBRE)
values (2,'1.1.4.001.03','RETENCION IMPUESTO A LAS GANANCIAS')
/
INSERT INTO CUENTAS_EXCLUIDAS (ID, JERARQUIA, NOMBRE)
values (3,'1.1.4.001.04','RETENCION IVA')
/
INSERT INTO CUENTAS_EXCLUIDAS (ID, JERARQUIA, NOMBRE)
values (4,'1.1.4.001.12','CREDITO PERCEPCIONES DE IVA')
/
INSERT INTO CUENTAS_EXCLUIDAS (ID, JERARQUIA, NOMBRE)
values (5,'1.1.4.001.21','RETENCION COMERCIO E INDUSTRI')
/
INSERT INTO CUENTAS_EXCLUIDAS (ID, JERARQUIA, NOMBRE)
values (6,'2.1.3.001.02','IVA CREDITO FISCAL')
/
/* Verision 2.0.0*/

/* Verision 2.0.1*/
UPDATE RESOURCES SET UPDATED_AT=SYSDATE, NAME='factura::facturaConsultPaginatedList', REPRESENTATION='factura::facturaConsultPaginatedList' WHERE ID = 36
/
/* Verision 2.0.1*/

/* Verision 2.0.4*/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (64, SYSDATE, SYSDATE, 0, null,'orden::getFacturasByOrdenId','orden::getFacturasByOrdenId', 0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (64, SYSDATE, SYSDATE, 0, null,'EJECUTAR',64)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (64, SYSDATE, SYSDATE, 0,'GET',64,null,0)
/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (65, SYSDATE, SYSDATE, 0, null,'orden::saveAsociarFacturas','orden::saveAsociarFacturas', 0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (65, SYSDATE, SYSDATE, 0, null,'EJECUTAR',65)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (65, SYSDATE, SYSDATE, 0,'POST',65,null,0)
/
INSERT INTO ROLES_PERMISSIONS (PERMISSION_ID,ROLE_ID )
SELECT P.ID,2 FROM PERMISSIONS P
WHERE P.ID NOT IN (SELECT PERMISSION_ID FROM ROLES_PERMISSIONS WHERE ROLE_ID=2)
/
INSERT INTO ROLES_PERMISSIONS (PERMISSION_ID,ROLE_ID )
SELECT P.ID,7 FROM PERMISSIONS P
WHERE P.ID IN (64,65) AND P.ID NOT IN (SELECT PERMISSION_ID FROM ROLES_PERMISSIONS WHERE ROLE_ID=7)
/
CREATE OR REPLACE VIEW OC_FACTURA_OC (OC_ID, FACTURA_NRO) AS
SELECT ORD.ID,  rtrim (xmlagg (xmlelement(e ,OCF.NUMERO||', ')).extract ('//text()'), ', ')
FROM ORDENES ORD LEFT JOIN FACTURAS_X_OC FOC 
ON ORD.ID=FOC.OC_ID LEFT JOIN OC_FACTURA@PREFA OCF 
ON FOC.FACTURA_ID=OCF.ID
GROUP BY ORD.ID
/
/* Verision 2.0.4*/
/* Verision 2.0.5*/
INSERT INTO RESOURCES (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, REPRESENTATION, ORD)
VALUES (66, SYSDATE, SYSDATE, 0, null,'orden::ocPaginatedPrefaConsulList','orden::ocPaginatedPrefaConsulList', 0)
/
INSERT INTO PERMISSIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, DESCRIPTION, NAME, RESOURCE_ID)
VALUES (66, SYSDATE, SYSDATE, 0, null,'EJECUTAR',66)
/
INSERT INTO PERMISSION_REPRESENTATIONS (ID, CREATED_AT, UPDATED_AT, LOCK_VERSION, REPRESENTATION, PERMISSION_ID, REPRESENTATIONPAGE, ORD)
VALUES (66, SYSDATE, SYSDATE, 0,'GET',66,null,0)
/
INSERT INTO ROLES_PERMISSIONS (PERMISSION_ID,ROLE_ID )
SELECT P.ID,7 FROM PERMISSIONS P
WHERE P.ID IN (66) AND P.ID NOT IN (SELECT PERMISSION_ID FROM ROLES_PERMISSIONS WHERE ROLE_ID=7)
/
INSERT INTO ROLES_PERMISSIONS (PERMISSION_ID,ROLE_ID )
SELECT P.ID,2 FROM PERMISSIONS P
WHERE P.ID NOT IN (SELECT PERMISSION_ID FROM ROLES_PERMISSIONS WHERE ROLE_ID=2)
/* Verision 2.0.5*/
/* Verision 2.0.8*/
update HISTORIAL_AUTORIZACION set AUTORIZADOR=
(select USUARIO_ID from niveles where ID=NIVEL_ID)
 where AUTORIZADOR IS NULL
/* Verision 2.0.8*/